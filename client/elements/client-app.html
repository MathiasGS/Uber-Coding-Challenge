<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/app-route/app-location.html">
<link rel="import" href="../bower_components/app-route/app-route.html">
<link rel="import" href="../bower_components/paper-header-panel/paper-header-panel.html">
<link rel="import" href="../bower_components/paper-styles/shadow.html">

<link rel="import" href="send-view.html">
<link rel="import" href="status-view.html">

<dom-module id="client-app">
  <style include="iron-flex iron-flex-alignment">    
    body {
      @apply(--layout-inline);
      @apply(--layout-center-center);
      @apply(--layout-wrap);
      padding: 40px;
    }
    
    .paper-header {
      height: 200px;
      font-family: 'Roboto', 'Noto', sans-serif;
      font-weight: 100;
      font-size: 50px;
      line-height: 60px;
      padding: 50px 75px 50px 10px;
      color: white;
      background-color: var(--paper-blue-500);
    }
    
    .content {
      background: white;
      padding: 10px;
      @apply(--shadow-elevation-2dp);
    }
    
    @media (min-width: 768px) {
      .content {
        margin: -90px 60px 120px;
      }
    }
  </style>

  <template>
    <paper-header-panel mode="scroll">
      <div class="paper-header horizontal center-justified layout">Uber Coding Challenge
        <!-- Fork me on GitHub ribbon -->
        <a href="https://github.com/MathiasGS/Uber-Coding-Challenge"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/52760788cde945287fbb584134c4cbc2bc36f904/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f77686974655f6666666666662e706e67"
            alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png"></a>
      </div>

      <div class="content">
        <app-location route="{{route}}" use-hash-as-path></app-location>
        <app-route route="{{route}}" pattern=":uuid" data="{{data}}" active="{{statusViewActive}}">
          <template is="dom-if" if="{{statusViewActive}}">
            <status-view route="{{route}}" uuid="{{data.uuid}}"></status-view>
          </template>
        </app-route>

        <template is="dom-if" if="{{!statusViewActive}}">
          <send-view route="{{route}}"></send-view>
        </template>
      </div>
    </paper-header-panel>
  </template>

  <script>
    Polymer({
      is: 'client-app',
    });
  </script>
</dom-module>